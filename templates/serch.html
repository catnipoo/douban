<!DOCTYPE html>
<html>
<head>
    <title></title>
    <meta charset="utf-8"/>
<body>
    <div style="margin-top: 300px;margin-left: 520px;">
        <form action="/searchlist/1/" method="post" style="margin: auto 0;">
            请输入关键字：<br/>
            <input type="text" id="search-text" name="q">
            <input type="submit" id='search-button'></input>
            <p><span id='search-result'></span></p>
        </form>
    </div>
<script src="{{ static('js/jquery-1.12.4.min.js')}}"></script>
<script>
    $(document).ready(function(){
        $("#search-text").keyup(function(){
            var q = $("#search-text").val();                         //获取搜索框输入的值
            $.get("/searchdetail/",{'q':q}, function(data){               //参数：发送的url；传入的数据；请求成功后的调用函数（data即是试图函数返回的json格式数据）详情
                for (var i = data.length - 1; i >= 0; i--) {        
                    $('#search-result').append(data[i]+'<br/>')      //加入到search-result部分显示
                };
            })
        });
        $('#search-text').keydown(function(){
            $('#search-result').empty();
        })
        $('#search-text').blur(function(){
            $('#search-result').empty();
        })
    });
</script>
</body>
</html>